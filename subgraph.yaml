specVersion: 0.0.2
schema:
  file: ./schema.graphql
dataSources:
  # Private Pool Details
  - kind: ethereum/contract
    name: PrivatePools
    network: kovan
    source:
      address: "0x2F416f6A1d76Ab9dd50b61058E5eA2de379BcD8c"
      abi: PrivatePools
      startBlock: 24166789
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - OwnershipTransferred
        - newDeposit
        - newPoolCreated
        - newTokenAdded
        - newWithdrawal
        - totalPoolDeposit
        - totalPoolScaledDeposit
        - totalUserScaledDeposit
        - verified
      abis:
        - name: PrivatePools
          file: ./abis/PrivatePools.json
      eventHandlers:
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: newDeposit(indexed string,indexed address,uint256,uint256)
          handler: handlenewDeposit
        - event: newPoolCreated(indexed string,indexed address,string,uint256,uint256)
          handler: handlenewPoolCreated
        - event: newTokenAdded(string,address,address)
          handler: handlenewTokenAdded
        - event: newWithdrawal(indexed string,indexed address,uint256,uint256)
          handler: handlenewWithdrawal
        - event: totalPoolDeposit(indexed string,uint256,uint256)
          handler: handletotalPoolDeposit
        - event: totalPoolScaledDeposit(indexed string,uint256,uint256)
          handler: handletotalPoolScaledDeposit
        - event: totalUserScaledDeposit(indexed string,indexed address,uint256,uint256)
          handler: handletotalUserScaledDeposit
        - event: verified(indexed string,address,uint256)
          handler: handleverified
      file: ./src/PrivatePoolsMapping.ts

  # Comptroller Contract Details
  - kind: ethereum/contract
    name: Comptroller
    network: kovan
    source:
      address: "0x7Ca34A16A5Cc596Ae904c0e037f1c19104E89059"
      abi: Comptroller
      startBlock: 24166787
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - OwnershipTransferred
        - newTokenAdded
      abis:
        - name: Comptroller
          file: ./abis/Comptroller.json
      eventHandlers:
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: newTokenAdded(string,address,address)
          handler: handlenewTokenAdded
      file: ./src/ComptrollerMapping.ts

  # PublicPool Contract Details
  - kind: ethereum/contract
    name: PublicPools
    network: kovan
    source:
      address: "0x4aEbD27e8f9c90aF79ccFcf0Da9a607f04f43df1"
      abi: PublicPools
      startBlock: 24166791
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - OwnershipTransferred
        - newDeposit
        - newPoolCreated
        - newTokenAdded
        - newWithdrawal
        - totalPoolDeposit
        - totalPoolScaledDeposit
        - totalUserScaledDeposit
        - verified
      abis:
        - name: PublicPools
          file: ./abis/PublicPools.json
      eventHandlers:
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: newDeposit(indexed string,indexed address,uint256,uint256)
          handler: handlenewDeposit
        - event: newPoolCreated(indexed string,indexed address,string,uint256,uint256)
          handler: handlenewPoolCreated
        - event: newTokenAdded(string,address,address)
          handler: handlenewTokenAdded
        - event: newWithdrawal(indexed string,indexed address,uint256,uint256)
          handler: handlenewWithdrawal
        - event: totalPoolDeposit(indexed string,uint256,uint256)
          handler: handletotalPoolDeposit
        - event: totalPoolScaledDeposit(indexed string,uint256,uint256)
          handler: handletotalPoolScaledDeposit
        - event: totalUserScaledDeposit(indexed string,indexed address,uint256,uint256)
          handler: handletotalUserScaledDeposit
        - event: verified(indexed string,address,uint256)
          handler: handleverified
      file: ./src/PublicPoolsMapping.ts

  # DonationPools Contract Details
  - kind: ethereum/contract
    name: DonationPools
    network: kovan
    source:
      address: "0x12F7953e925DDae5d799004614863740e217F5F9"
      abi: DonationPools
      startBlock: 24166793
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.4
      language: wasm/assemblyscript
      entities:
        - OwnershipTransferred
        - newDonation
        - newDonationWithdrawal
        - newRecipientAdded
        - recipientDeactivated
        - recipientReactivated
      abis:
        - name: DonationPools
          file: ./abis/DonationPools.json
      eventHandlers:
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
        - event: newDonation(uint256,indexed string,uint256)
          handler: handlenewDonation
        - event: newDonationWithdrawal(indexed address,indexed string,uint256)
          handler: handlenewDonationWithdrawal
        - event: newRecipientAdded(indexed address,indexed string,uint256)
          handler: handlenewRecipientAdded
        - event: recipientDeactivated(indexed address,indexed string,uint256)
          handler: handlerecipientDeactivated
        - event: recipientReactivated(indexed address,indexed string,uint256)
          handler: handlerecipientReactivated
      file: ./src/DonationPoolsMapping.ts
